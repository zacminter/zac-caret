<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zac^ Command Center</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
      }
      #canvas {
        display: block;
        width: 100%;
        height: 100vh;
      }
      #hud {
        position: absolute;
        top: 10px;
        left: 10px;
        color: #0f0;
        font-family: monospace;
        font-size: 12px;
        background: rgba(0, 0, 0, 0.7);
        padding: 10px;
        border: 1px solid #0f0;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div id="hud">
      <div>FPS: <span id="fps">60</span></div>
      <div>Camera: <span id="camera">0, 0, 0</span></div>
      <div>Controls: WASD to move, Scroll to zoom</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      // Scene setup
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x87ceeb); // Sky blue

      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.set(0, 5, 10);

      const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas'), antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;

      // Lighting
      const light = new THREE.DirectionalLight(0xffffff, 1);
      light.position.set(5, 10, 5);
      light.castShadow = true;
      scene.add(light);

      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);

      // Terrain (green plane)
      const terrainGeometry = new THREE.PlaneGeometry(100, 100);
      const terrainMaterial = new THREE.MeshLambertMaterial({ color: 0x00aa00 });
      const terrain = new THREE.Mesh(terrainGeometry, terrainMaterial);
      terrain.rotation.x = -Math.PI / 2;
      terrain.receiveShadow = true;
      scene.add(terrain);

      // Town Hall (brown cube)
      const hallGeometry = new THREE.BoxGeometry(2, 3, 2);
      const hallMaterial = new THREE.MeshPhongMaterial({ color: 0x8b4513 });
      const hall = new THREE.Mesh(hallGeometry, hallMaterial);
      hall.position.set(0, 1.5, 0);
      hall.castShadow = true;
      hall.receiveShadow = true;
      scene.add(hall);

      // Camera controls
      const keys = {};
      window.addEventListener('keydown', (e) => keys[e.key.toLowerCase()] = true);
      window.addEventListener('keyup', (e) => keys[e.key.toLowerCase()] = false);

      window.addEventListener('wheel', (e) => {
        e.preventDefault();
        camera.position.z += e.deltaY > 0 ? 1 : -1;
      });

      // Animation loop
      let frameCount = 0;
      let lastTime = Date.now();

      function animate() {
        requestAnimationFrame(animate);

        // Camera movement
        const speed = 0.2;
        if (keys['w']) camera.position.z -= speed;
        if (keys['s']) camera.position.z += speed;
        if (keys['a']) camera.position.x -= speed;
        if (keys['d']) camera.position.x += speed;

        // Update HUD
        frameCount++;
        const now = Date.now();
        if (now - lastTime >= 1000) {
          document.getElementById('fps').textContent = frameCount;
          frameCount = 0;
          lastTime = now;
        }

        const camPos = camera.position;
        document.getElementById('camera').textContent = 
          `${camPos.x.toFixed(1)}, ${camPos.y.toFixed(1)}, ${camPos.z.toFixed(1)}`;

        renderer.render(scene, camera);
      }

      // Handle window resize
      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });

      animate();
    </script>
  </body>
</html>
